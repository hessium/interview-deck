# POSIX API и интерфейс взаимодействия с процессами

## Описание
Понятие POSIX API и взаимодействие приложений с ОС через стандартные интерфейсы.

## Вопросы и ответы

### Вопрос: Что такое POSIX API и для чего он нужен?
**Ответ:**  
POSIX API — это стандарт, определяющий интерфейсы взаимодействия программ с ОС. Он обеспечивает переносимость кода между UNIX-подобными системами. Примеры: `fork`, `exec`, `read`, `write`, `pthread_create`, `mmap` и т.д.

### Вопрос: Какие дескрипторы по умолчанию существуют в программе, написанной на C++?
**Ответ:**  
При запуске процесса в Linux по умолчанию открыты 3 дескриптора:
- `0` — стандартный ввод (`stdin`)
- `1` — стандартный вывод (`stdout`)
- `2` — стандартная ошибка (`stderr`)

## errno in C++: Basics and Best Practices

## 1. Core Concepts
- Глобальная переменная (макрос), устанавливаемая системными вызовами и библиотечными функциями при ошибках
- Определяется в `<cerrno> (C++)` или `<errno.h> (C)`
- **Важно**: Не сбрасывается в случае успеха!


### 2. Пример обработки

```c++
    errno = 0; // Сброс
    FILE* f = fopen("/nonexistent", "r");
    
    if (!f) {
        const int err = errno; // Сохраняем значение
        std::cerr << "Failed to open file:\n"
                  << "Code: " << err << '\n'
                  << "Message: " << strerror(err) << '\n'
                  << "POSIX: " << std::generic_category().message(err) << '\n';
        return 1;
    }
    
    fclose(f);
    return 0;

```

### 3. Common Codes
```c++
if (errno == EINVAL) { /* Некорректный аргумент */ }
if (errno == ENOMEM) { /* Недостаточно памяти */ }
```

