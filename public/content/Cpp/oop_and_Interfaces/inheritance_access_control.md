# Спецификаторы наследования в C++

## Описание

C++ поддерживает три типа наследования: `public`, `protected` и `private`. Эти спецификаторы управления доступом определяют, как члены базового класса наследуются и видны в производном классе.

---

## Основы

### Синтаксис

```cpp
class Base {
public:
    int pub;
protected:
    int prot;
private:
    int priv;
};

class DerivedPublic : public Base {};
class DerivedProtected : protected Base {};
class DerivedPrivate : private Base {};
```

---

## Поведение наследования

| Спецификатор наследования | `public` в Base | `protected` в Base | `private` в Base |
|---------------------------|------------------|---------------------|------------------|
| `public` наследование     | `public`         | `protected`         | недоступен       |
| `protected` наследование  | `protected`      | `protected`         | недоступен       |
| `private` наследование    | `private`        | `private`           | недоступен       |

---

## Примеры

### Public наследование

```cpp
class Derived : public Base {
    void f() {
        pub = 1;   // OK
        prot = 2;  // OK
        priv = 3;  // Ошибка: private
    }
};
```

### Private наследование

```cpp
class Derived : private Base {
    void f() {
        pub = 1;   // OK, но теперь это private
        prot = 2;  // OK, но тоже private
    }
};

void g(Derived d) {
    d.pub = 1;  // Ошибка: pub стал private
}
```

---

## Когда использовать что?

- `public` — когда наследование отражает отношение "is-a".
- `protected` — редко используется напрямую, но может быть полезно внутри библиотеки.
- `private` — когда наследование используется как "реализация через наследование", но вы не хотите открывать интерфейс базового класса.

---

## Дополнительно

- При использовании `using Base::member;` можно изменить доступ к конкретным членам из базового класса.
- Множественное наследование может приводить к сложностям, особенно с `private`/`protected` доступом.

---

## Частые вопросы на собеседованиях

### ❓ Чем `private` наследование отличается от `composition`?

**Ответ:** При `private` наследовании производный класс имеет доступ ко всем protected членам базового, а также может переопределять виртуальные методы. При композиции — объект хранится как член, и поведение делегируется вручную.

---

### ❓ Может ли производный класс с `private` наследованием быть приведён к базовому?

**Ответ:** Нет. Только при `public` наследовании допустим неявный апкаст.

```cpp
DerivedPrivate d;
Base* b = &d; // Ошибка
```

---

## Заключение

Понимание того, как работает доступ при наследовании, важно как для проектирования иерархий классов, так и для безопасности и гибкости кода. На практике чаще всего используется `public` наследование, а `private` — для реализации "has-a" через наследование.

