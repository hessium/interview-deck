# REST vs RPC and API Models

**CRUD** - Акроним, обозначающий четыре базовые функции, используемые при работе с данными: **создание (C)**, **чтение (R)**, **модификация (U)**, **удаление (D)**


## REST vs RPC

**REST (Representational State Transfer)** и **RPC (Remote Procedure Call)** — два разных подхода к построению API.

### REST:
- Основан на HTTP-протоколе и его глаголах (GET, POST, PUT, DELETE)
- Ресурсо-ориентированный: `GET /users/42`
- Использует URL для представления ресурсов, а не действий
- Хорошо кэшируется, читаемый URL, независимость от клиента

![Screenshot of the structure of the system elements](content/SystemDesign/networking_and_apis/REST_example.jpg)


### RPC:
- Ориентирован на вызов методов: `rpc.getUser(42)`
- Часто используется с бинарными форматами (gRPC, Thrift)
- Лучше подходит для внутреннего сервиса, где важна производительность

**Когда использовать:**
- REST — для внешнего API, читаемость, совместимость с браузерами и инструментами.
- RPC — для микросервисной архитектуры, межсервисного общения, высокая производительность.

---

## API Models

### REST
- Архитектура: клиент-сервер, без сохранения состояния (stateless)
- Транспорт: HTTP/HTTPS
- Формат данных: JSON, XML
- Простой, широко поддерживается

### SOAP
- Основан на XML, использует WSDL для описания API
- Поддерживает WS-* спецификации (безопасность, транзакции)
- Подходит для корпоративных систем

### RPC (в т.ч. gRPC)
- Передаёт вызовы процедур с параметрами
- Использует protobuf, IDL
- Быстрый и лёгкий, но сложнее в отладке

### GraphQL
- Клиент сам формирует запрос (что именно нужно)
- Один endpoint, декларативный подход
- Гибкий, но сложный в кэшировании и мониторинге

---

## Резюме

- **SOAP** уже умер
- **REST** для клиентского взаимодействия
- **gRPC** для внутреннего взаимодействия
- **GraphQL** для кастомизации запросов